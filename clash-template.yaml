port: 7890
socks-port: 7891
allow-lan: true
mode: rule
log-level: info
ipv6: false

dns:
  enable: true
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/16
  nameserver:
    - 1.1.1.1
    - 8.8.8.8

proxies:
<% proxies %>

proxy-groups:
  - name: PROXY
    type: select
    proxies:
<% all_proxies %>

rule-providers:
  my_direct:
    type: http
    behavior: domain
    url: https://raw.githubusercontent.com/OneUno1/mihomo-rules/main/my-direct-rules.yaml
    path: ./ruleset/my_direct.yaml
    interval: 86400

rules:
  - RULE-SET,my_direct,DIRECT
  - GEOIP,RU,DIRECT,no-resolve
  - GEOIP,private,DIRECT
  - MATCH,PROXY
